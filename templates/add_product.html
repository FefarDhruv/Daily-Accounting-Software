<!-- templates/add_product.html -->
{% extends "base.html" %}

{% block title %}Add Product{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2>Add Product</h2>
        <!-- Display flash messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}
    <form method="POST" action="{{ url_for('add_product') }}">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

        <div class="form-group">
            <label for="product_name">Product Name</label>
            <input type="text" class="form-control" id="product_name" name="product_name" required>
        </div>
        <!-- Description Field -->
        <div class="form-group">
            <label for="description">Description:</label>
            <textarea class="form-control" id="description" name="description">{{ product.description if product else '' }}</textarea>
        </div>
        <div class="form-group">
            <label for="product_code">Product Code</label>
            <input type="text" class="form-control" id="product_code" name="product_code" required>
        </div>
        <div class="form-group">
            <label for="unit">Unit</label>
            <input type="text" class="form-control" id="unit" name="unit" required>
        </div>
        <div class="form-group">
            <label for="category">Category</label>
            <input type="text" class="form-control" id="category" name="category" required>
        </div>
        <div class="form-group">
            <label for="unit_price">Unit Price</label>
            <input type="number" step="0.01" class="form-control" id="unit_price" name="unit_price" required>
        </div>
        <div class="form-group">
            <label for="cost_price">Cost Price</label>
            <input type="number" step="0.01" class="form-control" id="cost_price" name="cost_price">
        </div>
        <div class="form-group">
            <label for="quantity_in_stock">Quantity in Stock</label>
            <input type="number" class="form-control" id="quantity_in_stock" name="quantity_in_stock" required>
        </div>
        <div class="form-group">
            <label for="reorder_level">Reorder Level</label>
            <input type="number" class="form-control" id="reorder_level" name="reorder_level">
        </div>
        <div class="form-group">
            <label for="product_type">Product Type</label>
            <select class="form-control" id="product_type" name="product_type" required>
                <option value="Finished Product">Finished Product</option>
                <option value="Service">Service</option>
                <option value="Raw Material">Raw Material</option>
            </select>
        </div>
        <div class="form-group">
            <label for="brand">Brand</label>
            <input type="text" class="form-control" id="brand" name="brand">
        </div>
        <div class="form-group">
            <label for="gst_rate">GST Rate (%)</label>
            <input type="number" step="0.01" class="form-control" id="gst_rate" name="gst_rate">
        </div>
        <div class="form-group">
            <label for="hsn_code">HSN Code</label>
            <input type="text" class="form-control" id="hsn_code" name="hsn_code">
        </div>
        <div class="form-group">
            <label for="supplier">Supplier</label>
            <input type="text" class="form-control" id="supplier" name="supplier">
        </div>
        <div class="form-group">
            <label for="status">Status</label>
            <select class="form-control" id="status" name="status" required>
                <option value="Active">Active</option>
                <option value="Inactive">Inactive</option>
            </select>
        </div>

        <button type="submit" class="btn btn-primary">Add Product</button>
    </form>
</div>
{% endblock %}
