<!-- templates/edit_product.html -->
{% extends "base.html" %}

{% block title %}Edit Product{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2>Edit Product</h2>
    <form method="POST" action="{{ url_for('edit_product', product_id=product.id) }}">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

        <!-- Product Name Field -->
        <div class="form-group">
            <label for="product_name">Product Name</label>
            <input type="text" class="form-control" id="product_name" name="product_name" value="{{ product.product_name }}" required>
        </div>

        <!-- Description Field -->
        <div class="form-group">
            <label for="description">Description</label>
            <textarea class="form-control" id="description" name="description">{{ product.description }}</textarea>
        </div>

        <!-- Product Code Field -->
        <div class="form-group">
            <label for="product_code">Product Code</label>
            <input type="text" class="form-control" id="product_code" name="product_code" value="{{ product.product_code }}" required>
        </div>

        <!-- SKU Field -->
        <div class="form-group">
            <label for="sku">SKU (Stock Keeping Unit)</label>
            <input type="text" class="form-control" id="sku" name="sku" value="{{ product.sku }}" required>
        </div>

        <!-- Product Type Selection -->
        <div class="form-group">
            <label for="product_type">Product Type</label>
            <select class="form-control" id="product_type" name="product_type" required>
                <option value="">-- Select Product Type --</option>
                <option value="Consumable" {% if product.product_type == 'Consumable' %}selected{% endif %}>Consumable</option>
                <option value="Trading" {% if product.product_type == 'Trading' %}selected{% endif %}>Trading</option>
                <option value="Service" {% if product.product_type == 'Service' %}selected{% endif %}>Service</option>
                <option value="Raw Material" {% if product.product_type == 'Raw Material' %}selected{% endif %}>Raw Material</option>
            </select>
        </div>

        <!-- Category Field -->
        <div class="form-group">
            <label for="category">Category</label>
            <input type="text" class="form-control" id="category" name="category" value="{{ product.category }}">
        </div>

        <!-- Unit of Measure Field -->
        <div class="form-group">
            <label for="unit">Unit of Measure</label>
            <input type="text" class="form-control" id="unit" name="unit" value="{{ product.unit }}" required>
        </div>

        <!-- Unit Price Field -->
        <div class="form-group">
            <label for="unit_price">Unit Price</label>
            <input type="number" step="0.01" class="form-control" id="unit_price" name="unit_price" value="{{ product.unit_price }}" required>
        </div>

        <!-- Cost Price Field -->
        <div class="form-group">
            <label for="cost_price">Cost Price</label>
            <input type="number" step="0.01" class="form-control" id="cost_price" name="cost_price" value="{{ product.cost_price }}">
        </div>

        <!-- Quantity in Stock Field -->
        <div class="form-group">
            <label for="quantity_in_stock">Quantity in Stock</label>
            <input type="number" class="form-control" id="quantity_in_stock" name="quantity_in_stock" value="{{ product.quantity_in_stock }}" required>
        </div>

        <!-- Reorder Level Field -->
        <div class="form-group">
            <label for="reorder_level">Reorder Level</label>
            <input type="number" class="form-control" id="reorder_level" name="reorder_level" value="{{ product.reorder_level }}">
        </div>

        <!-- GST Rate Field -->
        <div class="form-group">
            <label for="gst_rate">GST Rate</label>
            <input type="number" step="0.01" class="form-control" id="gst_rate" name="gst_rate" value="{{ product.gst_rate }}">
        </div>

        <!-- HSN Code Field -->
        <div class="form-group">
            <label for="hsn_code">HSN Code</label>
            <input type="text" class="form-control" id="hsn_code" name="hsn_code" value="{{ product.hsn_code }}">
        </div>

        <!-- Supplier Field -->
        <div class="form-group">
            <label for="supplier">Supplier</label>
            <input type="text" class="form-control" id="supplier" name="supplier" value="{{ product.supplier }}">
        </div>

        <!-- Brand Field (Make sure it's only defined once) -->
        <div class="form-group">
            <label for="brand">Brand</label>
            <input type="text" class="form-control" id="brand" name="brand" value="{{ product.brand }}">
        </div>

        <!-- Status Selection -->
        <div class="form-group">
            <label for="status">Status</label>
            <select class="form-control" id="status" name="status" required>
                <option value="Active" {% if product.status == 'Active' %}selected{% endif %}>Active</option>
                <option value="Inactive" {% if product.status == 'Inactive' %}selected{% endif %}>Inactive</option>
            </select>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="btn btn-primary">Update Product</button>
    </form>
</div>
{% endblock %}
